<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unsplash API in Javascript</title>
  <link rel="shortcut icon" href="#" />
</head>

<style>
  body,
  h1 {
    font-family: "Raleway", sans-serif
  }

  body,
  html {
    height: 100%
  }

  .bgimg {
    background-image: url('photo-1628805626637-597f61cac491.jpg');
    min-height: 100%;
    background-position: center;
    background-size: cover;
  }
</style>


<body>
  <div class="bgimg w3-display-container w3-animate-opacity w3-text-white">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <div class="w3-display-middle">
        <h1 class="w3-jumbo w3-animate-top">What Is Your Picture of the Day?</h1>
        <div style="display: flex; flex-direction: column; align-items: center;">

          <div class="fetchImagesWrapper">
            <button class="getImagesButton">
              Get An Image
            </button>
          </div>
          <div class="imageDisplayWrapper" style="margin-top: 25px;">
            <img class="imageToDisplay" style="width: 550px; height: 350px; border: 1px solid black;" />
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<script>
  const requestUrl =
    'https://api.unsplash.com/search/photos?query=london&client_id=TH_hAxlm82Yz_GKltWgLe6TMVOzDX0AT796zQd_OT0o';
  const getImagesButton = document.querySelector('.getImagesButton');
  const imageToDisplay = document.querySelector('.imageToDisplay');

  getImagesButton.addEventListener('click', async () => {
    let randomImage = await getNewImage();
    imageToDisplay.src = randomImage;
  });

  async function getNewImage() {
    let randomNumber = Math.floor(Math.random() * 10);
    return fetch(requestUrl)
      .then((response) => response.json())
      .then((data) => {
        let allImages = data.results[randomNumber];
        return allImages.urls.regular;
      });
  }
</script>

</html>
